# Gemini APIモデル選択ガイド

## 🎯 自動処理での推奨設定

### ✅ 最推奨: Gemini 2.0 Flash Exp

```bash
GEMINI_MODEL_NAME=gemini-2.0-flash-exp
```

**理由:**
- ✅ **1日1,500回まで無料**（自動処理に十分）
- ✅ **コストが非常に安い**（2.5 Proの約1/16）
- ✅ **処理速度が速い**
- ✅ **精度も十分高い**

**適している場合:**
- 自動処理で大量に使う場合
- コストとパフォーマンスのバランスを重視
- 1日100回以上使う可能性がある場合

### 💰 コスト最優先: Gemini 1.5 Flash

```bash
GEMINI_MODEL_NAME=gemini-1.5-flash
```

**理由:**
- ✅ **最もコスト効率が良い**
- ✅ **1日1,500回まで無料**
- ✅ **安定したモデル**

**適している場合:**
- コストを最小限に抑えたい場合
- 大量の自動処理が必要な場合

### 🎯 精度最優先: Gemini 2.5 Pro

```bash
GEMINI_MODEL_NAME=gemini-2.5-pro
```

**注意事項:**
- ⚠️ **1日100回の制限**（無料枠）
- ⚠️ **コストが高い**（Flashの約16倍）
- ✅ **最高精度**
- ✅ **長文要約に強い**

**適している場合:**
- 精度が最重要
- 1日100回以下で十分な場合
- 有料プランを使用する場合

## 📊 使用回数の目安

### Gemini 2.5 Proの場合
- **無料枠**: 1日100回まで
- **1回の処理コスト**: 約$0.01-0.05
- **1日の最大コスト（無料枠）**: $0（無料）
- **1日の最大コスト（有料）**: 約$1-5

### Gemini 2.0 Flash Exp / 1.5 Flashの場合
- **無料枠**: 1日1,500回まで
- **1回の処理コスト**: 約$0.001-0.003
- **1日の最大コスト（無料枠）**: $0（無料）
- **1日の最大コスト（有料）**: 約$1.5-4.5

## 🔧 設定方法

`.env`ファイルでモデルを変更：

```bash
# 推奨: Gemini 2.0 Flash Exp（自動処理に最適）
GEMINI_MODEL_NAME=gemini-2.0-flash-exp

# または Gemini 1.5 Flash（コスト最優先）
# GEMINI_MODEL_NAME=gemini-1.5-flash

# または Gemini 2.5 Pro（精度最優先、1日100回制限）
# GEMINI_MODEL_NAME=gemini-2.5-pro
```

## 📈 使用状況の確認

### API接続テストで確認
1. ブラウザで `http://localhost:8000` にアクセス
2. 「Gemini API テスト」ボタンをクリック
3. 使用状況が表示されます：
   - 今日の使用回数
   - 制限回数
   - 残り回数
   - 使用率

### ログで確認
サーバーのログに使用状況が表示されます：
```
INFO - Gemini API使用状況: 50/1500回使用済み（gemini-2.0-flash-exp）
WARNING - ⚠️  Gemini API使用状況: 1200/1500回使用済み（80%使用）
```

## ⚠️ 制限に達した場合

### 自動的な対応
- 使用制限に達すると、エラーメッセージが表示されます
- 自動処理は停止します
- 翌日になると自動的にリセットされます

### 手動での対応
1. 別のモデルに切り替える（`.env`ファイルを編集）
2. 有料プランにアップグレード
3. 翌日まで待つ

## 💡 まとめ

**自動処理で大量に使う場合:**
- ✅ **Gemini 2.0 Flash Exp** を推奨（デフォルト設定）
- ✅ 1日1,500回まで無料
- ✅ コスト効率が良い
- ✅ 精度も十分

**1日100回以下で十分な場合:**
- Gemini 2.5 Proも選択肢
- ただし、コストが高いので注意

**コストを最小限に抑えたい場合:**
- Gemini 1.5 Flashを推奨

現在のデフォルト設定は **`gemini-2.0-flash-exp`** です。自動処理に最適な設定になっています！


